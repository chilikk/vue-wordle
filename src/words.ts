const defaultMessage = ' Using word of the day instead.'

export function getQuery() {
  if (location.search) {
    try {
      const query = atob(location.search.slice(1))
      if (query.length !== 5) {
        alert(`Incorrect word length from encoded query. ${defaultMessage}`)
      } else {
        return query
      }
    } catch (e) {
      alert(`Malformed encoded word query. ${defaultMessage}`)
    }
  }
  return null
}

export function getDay(now: Date) {
  const start = new Date(2022, 0, 0)
  const diff = Number(now) - Number(start)
  let day = Math.floor(diff / (1000 * 60 * 60 * 24))
  day %= answers.length
  return day
}

export function getWordOfTheDay(input) {
  if (typeof input === 'number') {
      return answers[input]
  } else if (typeof input === 'string') {
      return input
  }
}

// copied from Wordle source
const answers = [
    'когда',
    'вдруг',
    'может',
    'очень',
    'опять',
    'потом',
    'тогда',
    'будто',
    'этого',
    'чтобы',
    'время',
    'будет',
    'какой',
    'почти',
    'здесь',
    'после',
    'глаза',
    'всего',
    'более',
    'можно',
    'такой',
    'князь',
    'между',
    'много',
    'перёд',
    'точно',
    'лучше',
    'жизнь',
    'зачем',
    'слова',
    'через',
    'стало',
    'давно',
    'разве',
    'прямо',
    'долго',
    'назад',
    'нужно',
    'пошёл',
    'вовсе',
    'слово',
    'пусть',
    'дверь',
    'никто',
    'скоро',
    'мысль',
    'вчера',
    'знать',
    'право',
    'место',
    'одним',
    'часто',
    'видно',
    'кроме',
    'голос',
    'моего',
    'стоит',
    'собою',
    'домой',
    'денег',
    'собой',
    'самоё',
    'верно',
    'самый',
    'места',
    'никак',
    'около',
    'равно',
    'ильич',
    'вечер',
    'слёзы',
    'рукой',
    'глядя',
    'молча',
    'город',
    'среди',
    'настя',
    'затем',
    'снова',
    'милый',
    'иначе',
    'утром',
    'прошу',
    'целый',
    'лицом',
    'народ',
    'вздор',
    'готов',
    'месяц',
    'вслед',
    'разом',
    'полно',
    'двери',
    'подле',
    'возле',
    'ночью',
    'ровно',
    'взять',
    'честь',
    'грудь',
    'везде',
    'сразу',
    'далее',
    'часть',
    'будем',
    'шесть',
    'рядом',
    'герой',
    'пошли',
    'конец',
    'видал',
    'кровь',
    'также',
    'ответ',
    'барин',
    'столь',
    'слава',
    'вверх',
    'легко',
    'дурак',
    'нашёл',
    'вслух',
    'новый',
    'нечто',
    'могут',
    'сзади',
    'темно',
    'глава',
    'гости',
    'нынче',
    'вечно',
    'робко',
    'мужик',
    'вновь',
    'дайте',
    'права',
    'образ',
    'страх',
    'редко',
    'сорок',
    'мигом',
    'ветер',
    'резко',
    'огонь',
    'менее',
    'милая',
    'диван',
    'гость',
    'вроде',
    'ничем',
    'тоска',
    'новое',
    'даром',
    'ворот',
    'глупо',
    'ангел',
    'давай',
    'крови',
    'говор',
    'ближе',
    'прочь',
    'плохо',
    'целую',
    'важно',
    'толпа',
    'плечо',
    'сверх',
    'слышу',
    'легче',
    'песни',
    'дождь',
    'плечи',
    'нигде',
    'внизу',
    'хорош',
    'таков',
    'стихи',
    'мадам',
    'силой',
    'жалко',
    'вдоль',
    'черта',
    'немец',
    'лично',
    'цветы',
    'берет',
    'пошло',
    'карты',
    'духом',
    'тётка',
    'черты',
    'молчи',
    'полка',
    'бельё',
    'земля',
    'грубо',
    'графа',
    'вдали',
    'стать',
    'ничто',
    'врёшь',
    'телом',
    'новая',
    'слуга',
    'низко',
    'дурно',
    'болен',
    'умный',
    'добра',
    'лакей',
    'малый',
    'запах',
    'волос',
    'водой',
    'связи',
    'нежно',
    'божий',
    'надел',
    'чужой',
    'почём',
    'крест',
    'книга',
    'похож',
    'каков',
    'добро',
    'гляди',
    'покой',
    'дрожа',
    'дрянь',
    'всюду',
    'ловко',
    'кусок',
    'жадно',
    'смысл',
    'горло',
    'лeтом',
    'вести',
    'белый',
    'совет',
    'чисто',
    'живой',
    'гордо',
    'слухи',
    'берег',
    'закон',
    'верит',
    'целых',
    'позор',
    'держа',
    'шагом',
    'нужна',
    'мешок',
    'крики',
    'белая',
    'палец',
    'смело',
    'горит',
    'умнее',
    'мечта',
    'сряду',
    'тайна',
    'спеша',
    'грязь',
    'нервы',
    'девка',
    'слабо',
    'штука',
    'мягко',
    'кучер',
    'забор',
    'авось',
    'холод',
    'судья',
    'сбоку',
    'предо',
    'молод',
    'вдвое',
    'чудно',
    'блеск',
    'шутка',
    'хвост',
    'сухой',
    'замок',
    'дуэль',
    'тепло',
    'следы',
    'наяву',
    'благо',
    'адрес',
    'птица',
    'юноша',
    'сапог',
    'рукав',
    'рубль',
    'испуг',
    'грязи',
    'театр',
    'разум',
    'пожар',
    'туман',
    'сцена',
    'отряд',
    'жарко',
    'сутки',
    'ружьё',
    'помня',
    'майор',
    'козёл',
    'автор',
    'порой',
    'париж',
    'наука',
    'армия',
    'шутки',
    'убьёт',
    'снизу',
    'капли',
    'идеал',
    'число',
    'поезд',
    'петро',
    'пакет',
    'зимой',
    'унтер',
    'осень',
    'велит',
    'барон',
    'тесно',
    'прост',
    'глухо',
    'тихий',
    'путём',
    'зверь',
    'ужели',
    'мороз',
    'идите',
    'завод',
    'велик',
    'ясный',
    'обман',
    'дочка',
    'чулки',
    'хохот',
    'топор',
    'слышь',
    'порог',
    'подло',
    'озеро',
    'камни',
    'густо',
    'табак',
    'общий',
    'круто',
    'вдова',
    'билет',
    'сосед',
    'намёк',
    'дрожь',
    'ведет',
    'пункт',
    'птицы',
    'подай',
    'ладно',
    'жених',
    'кошка',
    'житьё',
    'формы',
    'слуги',
    'порох',
    'погиб',
    'повар',
    'охота',
    'номер',
    'кости',
    'жутко',
    'шумно',
    'уныло',
    'тварь',
    'связь',
    'общее',
    'нищий',
    'несет',
    'жилец',
    'добре',
    'война',
    'шляпа',
    'сколь',
    'плача',
    'песня',
    'купец',
    'шёпот',
    'успех',
    'тянет',
    'стена',
    'нужда',
    'живот',
    'волей',
    'весть',
    'боком',
    'чулок',
    'улица',
    'скука',
    'мирно',
    'губки',
    'гадко',
    'вызов',
    'яснее',
    'хитро',
    'уроки',
    'полки',
    'влево',
    'члены',
    'храма',
    'смотр',
    'пусто',
    'позже',
    'монах',
    'душно',
    'детям',
    'вдаль',
    'черно',
    'халат',
    'слева',
    'лукич',
    'долой',
    'шоссе',
    'целом',
    'трава',
    'порою',
    'пение',
    'осени',
    'кулак',
    'волны',
    'слеза',
    'седой',
    'порыв',
    'набок',
    'миром',
    'визит',
    'тонко',
    'ссоры',
    'пирог',
    'крича',
    'казнь',
    'исход',
    'запас',
    'дикая',
    'держи',
    'глядь',
    'выход',
    'бокал',
    'бодро',
    'бегом',
    'форма',
    'толки',
    'сырой',
    'стадо',
    'серый',
    'мелко',
    'висит',
    'цыган',
    'фразы',
    'особо',
    'лодка',
    'линии',
    'злоба',
    'домик',
    'дикий',
    'вагон',
    'особа',
    'дрова',
    'гусар',
    'штуки',
    'шашки',
    'часом',
    'рыдая',
    'пойми',
    'плачь',
    'мерно',
    'ковёр',
    'класс',
    'зорко',
    'жажда',
    'водка',
    'вихрь',
    'аршин',
    'спина',
    'семья',
    'долее',
    'гений',
    'бойко',
    'худой',
    'фраза',
    'слива',
    'синий',
    'пятно',
    'придя',
    'петух',
    'песок',
    'левый',
    'куски',
    'кисть',
    'живее',
    'вожжи',
    'вздох',
    'ямщик',
    'чудак',
    'товар',
    'счёты',
    'силён',
    'свежо',
    'сахар',
    'проще',
    'отцов',
    'отказ',
    'навек',
    'молчу',
    'замёт',
    'гроза',
    'весна',
    'бедно',
    'суммы',
    'сонно',
    'свято',
    'пламя',
    'отель',
    'нагло',
    'лжёшь',
    'ключи',
    'искры',
    'идиот',
    'демон',
    'браво',
    'шапка',
    'угрюм',
    'тошно',
    'текст',
    'пышно',
    'поход',
    'перво',
    'остро',
    'масло',
    'замер',
    'голод',
    'вопль',
    'чудом',
    'столб',
    'семью',
    'сдуру',
    'рысью',
    'показ',
    'отчим',
    'нумер',
    'низок',
    'негде',
    'мишка',
    'масса',
    'криво',
    'кость',
    'жилет',
    'живым',
    'вывод',
    'варва',
    'брюхо',
    'брось',
    'школа',
    'хутор',
    'топот',
    'сумма',
    'ссора',
    'сокол',
    'собор',
    'свеча',
    'рынок',
    'ропот',
    'родня',
    'порок',
    'полон',
    'озноб',
    'лжёте',
    'донос',
    'гонит',
    'виски',
    'шорох',
    'свыше',
    'ручка',
    'приём',
    'пасть',
    'облом',
    'малой',
    'кухня',
    'бегло',
    'туфли',
    'тулуп',
    'танцы',
    'стужа',
    'пятью',
    'принц',
    'поток',
    'отчёт',
    'обида',
    'мыслю',
    'мутно',
    'милее',
    'капля',
    'знамя',
    'жучка',
    'ежели',
    'хором',
    'упрёк',
    'твёрд',
    'тайно',
    'слепо',
    'сенцы',
    'ранее',
    'пуста',
    'паром',
    'орден',
    'задом',
    'всяко',
    'вёсла',
    'букет',
    'бабка',
    'шагая',
    'чинно',
    'хмель',
    'уголь',
    'сынок',
    'строг',
    'степь',
    'старо',
    'сабля',
    'рыжий',
    'прыть',
    'перья',
    'пацюк',
    'ножка',
    'немка',
    'некто',
    'лучей',
    'купол',
    'залог',
    'втрое',
    'ворон',
    'блюдо',
    'арбуз',
    'яркий',
    'чётко',
    'уходи',
    'узкий',
    'точка',
    'спрос',
    'сарай',
    'родом',
    'рекой',
    'повод',
    'палки',
    'когти',
    'идучи',
    'дивно',
    'выбор',
    'вальс',
    'буфет',
    'баран',
    'часок',
    'тяжёл',
    'трико',
    'треск',
    'скрип',
    'пения',
    'оброк',
    'ногти',
    'нищая',
    'нешто',
    'наряд',
    'мышей',
    'льдом',
    'каюсь',
    'жёлто',
    'жалок',
    'венец',
    'базар',
    'углом',
    'сукно',
    'свист',
    'сваха',
    'рожок',
    'родит',
    'пушки',
    'приют',
    'почёт',
    'покои',
    'парка',
    'назло',
    'мотив',
    'молва',
    'мокро',
    'любой',
    'лесть',
    'лапти',
    'кошки',
    'запор',
    'запад',
    'драка',
    'доход',
    'давит',
    'глушь',
    'врозь',
    'возня',
    'быстр',
    'бровь',
    'юнкер',
    'чашка',
    'тюфяк',
    'сюжет',
    'стуча',
    'сроки',
    'слаще',
    'санки',
    'пульс',
    'поэма',
    'побои',
    'перст',
    'пейте',
    'парус',
    'паныч',
    'палач',
    'обыск',
    'общая',
    'нитки',
    'несло',
    'медик',
    'матом',
    'лапки',
    'кричи',
    'краса',
    'камин',
    'игрок',
    'зимою',
    'выпал',
    'впору',
    'бремя',
    'баста',
    'штаны',
    'шпоры',
    'шпион',
    'шпага',
    'шабаш',
    'чутко',
    'чуден',
    'черёд',
    'ходом',
    'танец',
    'талия',
    'схват',
    'суета',
    'среда',
    'сезон',
    'розги',
    'племя',
    'печёт',
    'отрок',
    'овраг',
    'нравы',
    'ножик',
    'немой',
    'нежен',
    'лысый',
    'лесок',
    'курок',
    'кудри',
    'комод',
    'ковры',
    'кабан',
    'кабак',
    'есаул',
    'еврей',
    'груша',
    'врёте',
    'вкруг',
    'венок',
    'везёт',
    'валил',
    'будни',
    'актёр',
    'шибко',
    'хитер',
    'устав',
    'турок',
    'тупик',
    'топая',
    'токмо',
    'споры',
    'смесь',
    'склад',
    'синяя',
    'робея',
    'пушок',
    'подол',
    'обмер',
    'нехай',
    'линия',
    'крыса',
    'котёл',
    'костя',
    'косой',
    'комок',
    'карма',
    'каплю',
    'кадык',
    'итого',
    'истин',
    'зойка',
    'зараз',
    'закат',
    'загон',
    'жинка',
    'ждите',
    'дыбом',
    'гремя',
    'грёзы',
    'горох',
    'волна',
    'взрыв',
    'вёдро',
    'брань',
    'белки',
    'шинок',
    'червь',
    'фланг',
    'ущерб',
    'учила',
    'улика',
    'ужасы',
    'удачи',
    'тяжко',
    'сучья',
    'рыбак',
    'плоды',
    'певец',
    'палка',
    'орлов',
    'орехи',
    'океан',
    'носок',
    'навес',
    'массы',
    'леший',
    'лампа',
    'кучка',
    'круги',
    'кофей',
    'комар',
    'книзу',
    'клоун',
    'кисло',
    'зерно',
    'залив',
    'задел',
    'жеста',
    'жёлчь',
    'жарче',
    'дюжий',
    'душка',
    'дожди',
    'днями',
    'горда',
    'глубь',
    'ветры',
    'бытьё',
    'богач',
    'бабьё',
    'амбар',
    'эпоха',
    'щенок',
    'шайка',
    'чутьё',
    'череп',
    'хвалю',
    'франт',
    'толст',
    'терем',
    'сизый',
    'салоп',
    'салон',
    'рыжей',
    'речка',
    'поляк',
    'полом',
    'побег',
    'плоть',
    'пепел',
    'отдых',
    'носки',
    'наход',
    'мираж',
    'месть',
    'лента',
    'икона',
    'завет',
    'дробь',
    'гумно',
    'галки',
    'втуне',
    'висок',
    'веяло',
    'ветка',
    'вакса',
    'бобок',
    'блажь',
    'арест',
    'азарт',
    'адама',
    'явный',
    'эвона',
    'щедро',
    'шалун',
    'чулан',
    'хвать',
    'ужель',
    'трупы',
    'треть',
    'тонок',
    'ткань',
    'ткани',
    'тесть',
    'сякой',
    'средь',
    'спора',
    'семей',
    'седло',
    'равен',
    'пяток',
    'пятак',
    'пьяна',
    'поиск',
    'печка',
    'песнь',
    'пески',
    'паном',
    'отдел',
    'норов',
    'нитка',
    'нашло',
    'морда',
    'метко',
    'мерси',
    'мелок',
    'локон',
    'ловок',
    'легок',
    'кучки',
    'крыша',
    'крыло',
    'конюх',
    'искра',
    'драма',
    'вчуже',
    'ввиду',
    'босой',
    'бесит',
    'бёдра',
    'басня',
    'бабки',
    'якорь',
    'юхнов',
    'шубка',
    'чётки',
    'чепец',
    'уютно',
    'тупой',
    'труба',
    'траур',
    'строй',
    'смрад',
    'скупо',
    'сечет',
    'север',
    'свита',
    'садик',
    'ротик',
    'ровня',
    'резво',
    'пчела',
    'порту',
    'помои',
    'полёт',
    'петля',
    'отзыв',
    'оклад',
    'нотка',
    'нонче',
    'недра',
    'напра',
    'мусьё',
    'моряк',
    'ложно',
    'ласка',
    'лавка',
    'курса',
    'кляча',
    'казак',
    'зубки',
    'житие',
    'жирно',
    'едино',
    'дрозд',
    'дотла',
    'денёк',
    'гуляй',
    'губка',
    'голый',
    'глянь',
    'гвалт',
    'валит',
    'бытиё',
    'бубен',
    'якобы',
    'южный',
    'щепки',
    'шторы',
    'шрифт',
    'шитьё',
    'шитый',
    'шинка',
    'шарик',
    'чисел',
    'цифры',
    'холст',
    'холоп',
    'хвала',
    'фасон',
    'ухват',
    'тесто',
    'тверь',
    'табор',
    'сферы',
    'сукин',
    'судно',
    'сором',
    'содом',
    'смоль',
    'смерд',
    'склон',
    'скарб',
    'редут',
    'рамки',
    'разно',
    'пылко',
    'пуант',
    'почта',
    'перси',
    'перец',
    'пеньё',
    'парик',
    'отпор',
    'окрик',
    'носик',
    'несть',
    'недуг',
    'наказ',
    'мягче',
    'мудро',
    'минуя',
    'мехом',
    'мерин',
    'машка',
    'масть',
    'маска',
    'лафит',
    'ларец',
    'лавры',
    'кучею',
    'кутёж',
    'кузен',
    'красы',
    'космы',
    'копия',
    'козни',
    'козлы',
    'катер',
    'карло',
    'канал',
    'ихний',
    'интер',
    'засим',
    'заказ',
    'задор',
    'доска',
    'груда',
    'вялый',
    'вьюга',
    'взвод',
    'бурый',
    'бочка',
    'бомба',
    'битый',
    'аминь',
    'аллея',
    'шумок',
    'шулер',
    'шатёр',
    'чубук',
    'чайка',
    'цепью',
    'центр',
    'фомка',
    'фокус',
    'умник',
    'тугой',
    'толще',
    'тиран',
    'темпа',
    'талан',
    'сущий',
    'судия',
    'ступа',
    'струя',
    'спирт',
    'сотня',
    'серьё',
    'севши',
    'сборы',
    'рыжая',
    'ручей',
    'рубли',
    'ровен',
    'ритор',
    'ремиз',
    'резче',
    'пьеса',
    'пьеро',
    'прево',
    'почто',
    'попов',
    'покор',
    'погон',
    'перлы',
    'пёкло',
    'очерк',
    'орган',
    'оземь',
    'некий',
    'негра',
    'начин',
    'нация',
    'мосье',
    'мизер',
    'метро',
    'лужок',
    'лихой',
    'литер',
    'лепет',
    'кубок',
    'колет',
    'кожух',
    'карла',
    'капот',
    'зачал',
    'жупан',
    'жильё',
    'дурен',
    'дроги',
    'гроши',
    'гонор',
    'врата',
    'ворча',
    'вождь',
    'вихор',
    'веско',
    'бурда',
    'бурая',
    'булки',
    'бубны',
    'брюки',
    'божье',
    'атлет',
    'аркад',
    'анюта',
    'адски',
    'щиток',
    'щипцы',
    'шашка',
    'чуждо',
    'чугун',
    'чепца',
    'челны',
    'цифра',
    'хлыст',
    'херес',
    'финал',
    'филин',
    'уздцы',
    'удача',
    'турка',
    'тощий',
    'тиски',
    'типун',
    'тигра',
    'тепел',
    'сынов',
    'съезд',
    'стиль',
    'сталь',
    'скала',
    'сипло',
    'сивый',
    'сёмга',
    'сдача',
    'рябой',
    'рыбка',
    'руины',
    'розно',
    'резок',
    'разик',
    'пьяно',
    'пытка',
    'пузан',
    'проба',
    'почва',
    'помин',
    'плеть',
    'плеск',
    'плена',
    'питьё',
    'педро',
    'патер',
    'парти',
    'парой',
    'округ',
    'обход'
]
